<div class="container pt-5">
<div *ngIf="getMyBooking() && !isDisplayDeleteMsg()" class="row">
  <div class="col-lg-6 offset-lg-3">
    <div class="card border border-primary">
      
      <div class="card-header card-header-text card-header-warning">
        <div class="card-text">
          <h4 class="card-title">Détails de la réservation : {{getNumBooking()}}</h4>
        </div>
      </div>

      <div class="card-body table-responsive">
        <table class="table">
          <tbody>
            <tr>
                <td>Nom :</td>
                <td>{{getCivility() == 1 ? 'M.' : 'Mme'}} {{getName()}}</td>
            </tr>
            <tr>
              <td>Date d'arrivée :</td>
              <td>{{getDateIn() | date:'dd MMMM yyyy':'localeFr'}}</td>
            </tr>
            <tr>
              <td>Date de départ :</td>
              <td>{{getDateOut() | date:'dd MMMM yyyy':'localeFr'}}</td>
            </tr>
            <tr>
              <td>Nombre d'adultes :</td>
              <td>{{getNbrAdults()}}</td>
            </tr>
            <tr>
              <td>Nombre d'enfants :</td>
              <td>{{getNbrChildrens()}}</td>
            </tr>
            <tr>
              <td>Type de chambre :</td>
              <td>{{getTypeOfRoom()}}</td>
            </tr>
            <!--
            <tr>
              <td>Prix par nuit</td>
              <td>{{getRoomPpn()}} Euros</td>
            </tr>
            -->
            <tr class="bg-light">
              <td>Prix Total pour {{getNbrOfNights()}} nuit{{getNbrOfNights() > 1 ? 's' : ''}}</td>
              <td><strong>{{getTotalPrice()}} Euros</strong></td>
            </tr>
          </tbody>
        </table>
        <div>
            <button id="singlebutton" (click)="displayWarning()" data-toggle="modal" data-target="#CancelModal" 
                    name="cancelBooking" class="btn btn-sm btn-outline-danger" type="submit">Annuler ma réservation</button>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- Modal -->
<!-- https://getbootstrap.com/docs/4.0/components/modal/ -->
<div *ngIf="getDisplayModal()" class="modal fade" id="CancelModal" tabindex="-1" role="dialog" aria-labelledby="CancelModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Annulation de votre réservation</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <strong>Attention</strong>, si vous continuez, votre réservation sera annulée.<br />
        Toute annulation est définitive.<br />
        Cliquez sur <strong>Fermer</strong> pour revenir au détail de réservation.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-dismiss="modal">Fermer</button>
        <button type="button" class="btn btn-danger" (click)="onCancelBooking()" data-dismiss="modal">Annuler ma réservation</button>
      </div>
    </div>
  </div>
</div>
<!-- /Modal -->
<div class="container pb-5">
  <div *ngIf="isDisplayDeleteMsg()" class="alert alert-success" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="redirectHome()">
          <span aria-hidden="true">&times;</span>
      </button>
      <h4 class="alert-heading">Annulation effectuée !</h4>    
      <p>Votre demande d'annulation a bien été prise en compte.</p>
      <hr>
      <p class="mb-0">En esperant vous revoir rapidement parmis nous.</p>   
  </div>
</div>

